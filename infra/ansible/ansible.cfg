[defaults]
inventory = ./inventory/hosts.prod
roles_path = ./roles
host_key_checking = False
retry_files_enabled = False
interpreter_python = auto_silent

# --- FIX: Patience ---
# Increase SSH timeout to 60s (default is 10s).
# This prevents "Timeout waiting for privilege escalation" on slow Pis.
timeout = 60

# --- FIX: Readability ---
# Makes the output look like clean YAML instead of a mess of JSON.
stdout_callback = yaml
bin_ansible_callbacks = True

[ssh_connection]
# --- FIX: Speed ---
# Pipelining sends multiple commands in one SSH connection.
# drastically speeds up tasks on Raspberry Pis.
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s
